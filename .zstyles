#
# .zstyles - zstyle settings for features/plugins that need them.
#

#
# Antidote
#

zstyle ':antidote:bundle' use-friendly-names 'yes'
zstyle ':antidote:plugin:*' defer-options '-p'

#
# Zephyr
#

zstyle ':zephyr:plugin:prompt' theme zephyr

#
# Custom
#

noexpand=(
  ls
  grep
  gpg
  vi
  z
  rm
  del
  safe-rm
  l
  ll
  la
  lsa
  ldot
  cat
  brew
  z
  take
  tmux
  arr
  bat
)
zstyle ':zsh_custom:plugin:abbreviations' noexpand $noexpand

# vim: ft=zsh sw=2 ts=2 et

zstyle ':completion:*' menu select
zmodload zsh/complist

# use the vi navigation keys in menu completion
bindkey -M menuselect 'h' vi-backward-char
bindkey -M menuselect 'k' vi-up-line-or-history
bindkey -M menuselect 'l' vi-forward-char
bindkey -M menuselect 'j' vi-down-line-or-history

#
# docker
#
zstyle ':completion:*:*:docker:*' option-stacking yes
zstyle ':completion:*:*:docker-*:*' option-stacking yes

#
# fzf-tab
#
# zstyle ':fzf-tab:*' prefix 'â™¦ '
# zstyle ':fzf-tab:complete:*' fzf-preview 'less ${(Q)realpath}'
zstyle ':fzf-tab:complete:*:*' fzf-preview 'less ${(Q)realpath}'
# export LESSOPEN='|$ZDOTDIR/conf.d/.lessfilter %s'
# zstyle ':fzf-tab:complete:_zlua:*' query-string input
# zstyle ':fzf-tab:complete:*:*' fzf-preview 'echo "DEBUG: ${(Q)realpath}"'

zstyle ':completion:*:git-checkout:*' sort false
zstyle ':fzf-tab:*' print-query alt-enter
zstyle ':fzf-tab:*' single-group color header

# zstyle ':fzf-tab:complete:(\\|)run-help:*' fzf-preview 'run-help $word'
# zstyle ':fzf-tab:complete:(\\|*/|)man:*' fzf-preview 'man $word'
#
# Misc
#
zstyle -e ':autocomplete:list-choices:*' list-lines 'reply=( $(( LINES / 3 )) )'
# bindkey '\t' fzf-tab-complete "$terminfo[kcbt]" fzf-tab-complete
# bindkey -M menuselect '\t' fzf-tab-complete "$terminfo[kcbt]" fzf-tab-complete